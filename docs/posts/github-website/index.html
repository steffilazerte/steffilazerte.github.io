<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2023-08-23">

<title>Dr.&nbsp;Steffi LaZerte - Making a Website with GitHub/Quarto</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/logo_gear.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../images/logo_gear.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Dr.&nbsp;Steffi LaZerte</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../R.html"> 
<span class="menu-text">R Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../cv.html"> 
<span class="menu-text">Academic Activities &amp; CV</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../presentations.html"> 
<span class="menu-text">Presentations</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../tips_and_tricks.html"> 
<span class="menu-text">Tips &amp; Tricks</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:sel@steffilazerte.ca"> <i class="bi bi-envelope" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/steffilazerte"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/steffilazerte"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://fosstodon.org/@steffilazerte"> <i class="bi bi-mastodon" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#websites-in-general" id="toc-websites-in-general" class="nav-link active" data-scroll-target="#websites-in-general">Websites in General</a>
  <ul>
  <li><a href="#create-the-files" id="toc-create-the-files" class="nav-link" data-scroll-target="#create-the-files">1. Create the files</a></li>
  <li><a href="#serve-the-files" id="toc-serve-the-files" class="nav-link" data-scroll-target="#serve-the-files">2. Serve the files</a></li>
  <li><a href="#link-a-domain-name" id="toc-link-a-domain-name" class="nav-link" data-scroll-target="#link-a-domain-name">3. Link a domain name</a></li>
  <li><a href="#quarto-and-github" id="toc-quarto-and-github" class="nav-link" data-scroll-target="#quarto-and-github">Quarto and GitHub</a></li>
  </ul></li>
  <li><a href="#step-1.-creating-your-website-with-quarto" id="toc-step-1.-creating-your-website-with-quarto" class="nav-link" data-scroll-target="#step-1.-creating-your-website-with-quarto">Step 1. Creating your Website with Quarto</a></li>
  <li><a href="#step-2.-serving-your-website-with-github" id="toc-step-2.-serving-your-website-with-github" class="nav-link" data-scroll-target="#step-2.-serving-your-website-with-github">Step 2. Serving your Website with GitHub</a></li>
  <li><a href="#link-a-domain-name-optional" id="toc-link-a-domain-name-optional" class="nav-link" data-scroll-target="#link-a-domain-name-optional">3. Link a Domain Name (optional)</a></li>
  <li><a href="#examples" id="toc-examples" class="nav-link" data-scroll-target="#examples">Examples</a></li>
  <li><a href="#other-details" id="toc-other-details" class="nav-link" data-scroll-target="#other-details">Other details</a></li>
  <li><a href="#resources" id="toc-resources" class="nav-link" data-scroll-target="#resources">Resources</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Making a Website with GitHub/Quarto</h1>
  <div class="quarto-categories">
    <div class="quarto-category">github</div>
    <div class="quarto-category">website</div>
    <div class="quarto-category">profiles</div>
    <div class="quarto-category">R</div>
  </div>
  </div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">August 23, 2023</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">June 17, 2024</p>
    </div>
  </div>
    
  </div>
  


</header>


<p>There are many instructions for making Quarto websites or hosting on GitHub, but here is a list of instructions with links to other more detailed references as a roadmap to get started.</p>
<p>This isn’t comprehensive, but hopefully shares enough resources to get you started while clarifying some of the more confusing steps.</p>
<p>It can be a bit weird starting out and remember that you may be learning Quarto, git <em>and</em> GitHub (and possibly YAML, CSS and/or SCSS) all at once which is a lot!</p>
<p>So if you find it tricky, that’s normal, it’s nothing you can’t handle :)</p>
<blockquote class="blockquote">
<p><strong>Note</strong>: These instructions assume you want to create a personal/organizational website, not a website for a project or repository (although that can be similar in many steps)</p>
</blockquote>
<section id="websites-in-general" class="level2">
<h2 class="anchored" data-anchor-id="websites-in-general">Websites in General</h2>
<p>It helps to have a brief overview of what it takes to get a website on the Internet. Generally there are three steps</p>
<section id="create-the-files" class="level3">
<h3 class="anchored" data-anchor-id="create-the-files">1. Create the files</h3>
<p>This step is where you create (by hand or with software), the actual html files which are the website. You can create these files and not put them on the Internet. Which means you have a website on your computer (local), which only you can see. This is great for previewing your website before putting it, or any changes, onto the Internet.</p>
</section>
<section id="serve-the-files" class="level3">
<h3 class="anchored" data-anchor-id="serve-the-files">2. Serve the files</h3>
<p>This is when you put (serve or host) your html files on the Internet. You need a server to <em>serve</em> or <em>host</em> the files and generally you go through an external company<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> to do this for you (i.e.&nbsp;a Hosting service, or GitHub).</p>
</section>
<section id="link-a-domain-name" class="level3">
<h3 class="anchored" data-anchor-id="link-a-domain-name">3. Link a domain name</h3>
<p>This step is often optional, depending how you are serving your website. If you use GitHub to serve your website, you will have a website address of <code>https://yourgithubusername.github.io</code>. If you want to buy (or really, rent) a domain name and point it to the website, then you can have a website address of something like <code>https://your-domain-name.com</code> (mine is <code>https://steffilazerte.ca</code>).</p>
</section>
<section id="quarto-and-github" class="level3">
<h3 class="anchored" data-anchor-id="quarto-and-github">Quarto and GitHub</h3>
<p>So if you want to make a website with Quarto and GitHub you will be creating the website files with Quarto (step 1) and serving the files with GitHub (step 2). You can optionally also decide to buy a domain name and link it to your website (step 3).</p>
</section>
</section>
<section id="step-1.-creating-your-website-with-quarto" class="level2">
<h2 class="anchored" data-anchor-id="step-1.-creating-your-website-with-quarto">Step 1. Creating your Website with Quarto</h2>
<section id="quarto-vs.-rmarkdown" class="level5">
<h5 class="anchored" data-anchor-id="quarto-vs.-rmarkdown">Quarto vs.&nbsp;RMarkdown</h5>
<p>You can create a website with <a href="https://bookdown.org/yihui/rmarkdown/rmarkdown-site.html">RMarkdown</a> or <a href="https://quarto.org/docs/websites/">Quarto</a>.</p>
<p>Quarto is essentially rMarkdown v2. If you love RMarkdown and don’t want to switch, use that, otherwise it’s worth using Quarto as it has many features not available in RMarkdown.</p>
</section>
<section id="basic-steps" class="level5">
<h5 class="anchored" data-anchor-id="basic-steps">Basic Steps</h5>
<ul>
<li>To get started, follow the basic steps for <a href="https://quarto.org/docs/websites/">Quarto Websites</a></li>
<li>Check out the various <a href="https://quarto.org/docs/output-formats/html-themes.html">Website themes</a> you can use</li>
<li>Make sure you’re working in a folder (project or repository) called <code>yourgithubusername.github.io</code></li>
</ul>
</section>
<section id="fiddly-bits" class="level5">
<h5 class="anchored" data-anchor-id="fiddly-bits">Fiddly bits</h5>
<p>There are <a href="https://quarto.org/docs/publishing/github-pages.html">several different ways</a> of hosting your site on GitHub, but the most straightforward way is to ‘<a href="https://quarto.org/docs/websites/#website-render">render</a>’ your site into a <code>docs</code> folder and then tell GitHub to serve that folder (next step).</p>
<p>By default your website is created in the <code>_site</code> folder, but you can change this by changing the <code>output-dir</code> option in the <code>_quarto.yml</code> (this is the file that defines your site options).</p>
<p>For example, <a href="https://github.com/steffilazerte/steffilazerte.github.io/blob/33a70ef82c522d834d42ab8041452dbd89f8fcd8/_quarto.yml#L3">I use</a> <code>output-dir: docs</code> which tells R to create the website in a <code>docs</code> folder.</p>
<p>To <a href="https://quarto.org/docs/websites/#website-preview">preview your website</a>, use <code>quarto preview</code> in the terminal (the website will automatically update with any future changes), or <a href="https://quarto.org/docs/websites/#website-render">render your website</a> and then open the <code>index.html</code> file inside the <code>docs</code> folder (you will need to re-render and refresh the page to see new changes).</p>
</section>
</section>
<section id="step-2.-serving-your-website-with-github" class="level2">
<h2 class="anchored" data-anchor-id="step-2.-serving-your-website-with-github">Step 2. Serving your Website with GitHub</h2>
<p>Once you have and like your website, you’ll need to push it to GitHub and then tell GitHub that it should <em>serve</em> your website (it won’t unless you tell it to).</p>
<ul>
<li>Push your website<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> to GitHub. For learning how to push/pull to GitHub, I recommend
<ul>
<li><a href="https://happygitwithr.com/">Happy Git with R</a></li>
<li><a href="https://birdscanada.github.io/BirdsCanada_GitHubGuide/">Birds Canada’s “GitHub: A Beginner’s Guide”</a></li>
</ul></li>
<li>Once it’s on GitHub, you can tell GitHub to ‘serve’ your <code>docs</code> folder, I recommend
<ul>
<li>Quarto’s instructions for <a href="https://quarto.org/docs/publishing/github-pages.html#render-to-docs">Render to <code>docs</code></a></li>
<li><a href="https://docs.github.com/en/pages/getting-started-with-github-pages">GitHub Pages Documentation</a></li>
</ul></li>
</ul>
</section>
<section id="link-a-domain-name-optional" class="level2">
<h2 class="anchored" data-anchor-id="link-a-domain-name-optional">3. Link a Domain Name (optional)</h2>
<p>Now you’ll have a lovely website hosted at <code>https://yourusername.github.io</code>. There is nothing wrong with leaving it at this stage, if nothing else, you’re making it really clear that you are badass enough to be able to create a website and serve it on GitHub.</p>
<p>However, if you would like to use your own domain name, you can also do that.</p>
<p>First you will need to buy (rent) a domain name.</p>
<p>I buy mine (<code>steffilazerte.ca</code>) from <a href="https://webnames.ca">Webnames</a>, a Canadian Domain Registrar, but there are many others. If you have one bundled with a webhosting service, you can always transfer it to another Domain Registrar if that works better for you.</p>
<p>Next, you will need to configure GitHub to work with this domain.</p>
<ul>
<li>Simplest<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> is to follow GitHub’s instructions for <a href="https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site#configuring-an-apex-domain">Configuring an apex domain</a></li>
</ul>
<p>In short, you will tell GitHub about your Domain and then tell your Domain Registrar to point to GitHub.</p>
</section>
<section id="examples" class="level2">
<h2 class="anchored" data-anchor-id="examples">Examples</h2>
<p>Here are examples of several websites I’ve made and host on GitHub. In particular, take a look at the <code>_quarto.yml</code> files as this is how the pages, navigation and themes are set.</p>
<ul>
<li><strong>Steffi’s website</strong>
<ul>
<li>Served from the <code>docs</code> folder</li>
<li><strong>Code</strong>: <a href="https://github.com/steffilazerte/steffilazerte.github.io" class="uri">https://github.com/steffilazerte/steffilazerte.github.io</a></li>
<li><strong>Site</strong>: <a href="https://steffilazerte.ca" class="uri">https://steffilazerte.ca</a></li>
</ul></li>
<li><strong>Westman Naturalists’ website</strong>
<ul>
<li>Quarto, no <code>docs</code> folder, uses GitHub Actions to publish</li>
<li><strong>Code</strong>: <a href="https://github.com/westman-naturalists/westman-naturalists.github.io" class="uri">https://github.com/westman-naturalists/westman-naturalists.github.io</a></li>
<li><strong>Site</strong>: <a href="https://westman-naturalists.github.io" class="uri">https://westman-naturalists.github.io</a></li>
<li><strong>Interesting bits</strong>: This site uses a <a href="https://github.com/westman-naturalists/westman-naturalists.github.io/blob/master/.github/workflows/render_site.yaml">GitHub action</a> to update the <a href="https://westman-naturalists.github.io/events.html">Events</a> page everyday at midnight from a Google Spreadsheet.</li>
</ul></li>
</ul>
</section>
<section id="other-details" class="level2">
<h2 class="anchored" data-anchor-id="other-details">Other details</h2>
<section id="bibbase" class="level5">
<h5 class="anchored" data-anchor-id="bibbase"><a href="https://bibbase.org/">BibBase</a></h5>
<p>Because I hate updating things by hand which can be automated, I use BibBase to automatically list my <a href="https://steffilazerte.ca/cv.html">Publications</a> and <a href="https://steffilazerte.ca/cv.html#presentations">Presentations</a> in my CV by pulling them in from <a href="https://www.zotero.org/">Zotero</a>.</p>
</section>
<section id="using-r-to-automate-things" class="level5">
<h5 class="anchored" data-anchor-id="using-r-to-automate-things">Using R to automate things</h5>
<p>Again because I hate updating things by hand, I use R code to automate many lists on my webiste.</p>
<ul>
<li>I use <a href="https://github.com/steffilazerte/steffilazerte.github.io/blob/main/presentations.qmd">code</a> to create lists of <a href="https://steffilazerte.ca/presentations.html">presentation resources</a> with links to the slides. I don’t love this setup and would like to fiddle it in future to be a) more attractive and b) simpler to work with.</li>
<li>I use <a href="https://github.com/steffilazerte/steffilazerte.github.io/blob/main/cv.qmd">code</a> to create the tables displayed in my CV (note that the actual data and some of the functions aren’t included in this repository)</li>
</ul>
</section>
</section>
<section id="resources" class="level2">
<h2 class="anchored" data-anchor-id="resources">Resources</h2>
<ul>
<li><a href="https://quarto.org/">Quarto documentation</a>
<ul>
<li><a href="https://quarto.org/docs/websites/">Quarto Websites</a></li>
<li><a href="https://quarto.org/docs/output-formats/html-themes.html">HTML Themes in Quarto</a></li>
<li><a href="https://quarto.org/docs/publishing/github-pages.html">Publishing Quarto Websites with GitHub Pages</a></li>
</ul></li>
<li><a href="https://docs.github.com/en/pages">GitHub Pages documentation</a>
<ul>
<li><a href="https://docs.github.com/en/pages/getting-started-with-github-pages/creating-a-github-pages-site">Creating a GitHub Pages site</a></li>
<li><a href="https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/about-custom-domains-and-github-pages">Custom Domains</a></li>
</ul></li>
<li>Working with git and GitHub
<ul>
<li><a href="https://happygitwithr.com/">Happy Git with R</a></li>
<li><a href="https://birdscanada.github.io/BirdsCanada_GitHubGuide/">Birds Canada’s “GitHub: A Beginner’s Guide”</a></li>
</ul></li>
</ul>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>You can have your computer do this for you, but then your computer needs be on and running (and serving) files 24/7 and requires a more complex setup.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>You have to push the <code>docs</code> folder, but generally I recommend pushing all files except anything sensitive you need to keep private. This way you can share the love of how to create your own Quarto Website on GitHub!<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>In the sense that there are other, more complex things you can do, not in the sense that this is particularly straightforward.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>